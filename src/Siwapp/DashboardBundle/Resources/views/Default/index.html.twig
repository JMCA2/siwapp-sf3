{% extends "SiwappCoreBundle::base.html.twig" %}

{% block stylesheets %}
  {{ parent() }}
  {% stylesheets
    'bundles/siwappdashboard/css/dashboard.css'
    filter='cssrewrite'
  %}
    <link rel="stylesheet" href="{{ asset_url }}" />
  {% endstylesheets %}
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  {% javascripts
    'bundles/siwappinvoice/js/invoice-payments.js'
    filter='?yui_js'
  %}
  <script type="text/javascript" charset="utf-8" src="{{ asset_url }}"></script>
  {% endjavascripts %}
{% endblock %}

{% block searchform %}
  {% include "SiwappInvoiceBundle:Partials:search.html.twig" %}
{% endblock %}

{% block body %}

  <div id="dashboard-summary">

    <table class="table table-bordered sw-table-horizontal payments">
      <thead>
        <tr>
          <th colspan="2">{% trans %}Payments Summary{% endtrans %}</th>
        </tr>
      </thead>
      <tbody>
        <tr class="receipts">
          <th>{% trans %}Receipts{% endtrans %}</th>
          <td>$491,969.17</td>
        </tr>
        <tr class="due">
          <th>{% trans %}Due{% endtrans %}</th>
          <td>$4,233.54</td>
        </tr>
        <tr class="overdue">
          <th>{% trans %}Overdue{% endtrans %}</th>
          <td>$4,233.54</td>
        </tr>
      </tbody>
    </table>

    <table class="table table-bordered sw-table-horizontal balance">
      <thead>
        <tr>
          <th colspan="2">{% trans %}Balance{% endtrans %}</th>
        </tr>
      </thead>
      <tbody>
        <tr class="total">
          <th>{% trans %}Total{% endtrans %}</th>
          <td>$598,390.67</td>
        </tr>
        <tr class="net">
          <th>{% trans %}Net{% endtrans %}</th>
          <td>$500,000.00</td>
        </tr>
        <tr class="taxes">
          <th>{% trans %}Taxes{% endtrans %}</th>
          <td>$98,390.67</td>
        </tr>
      </tbody>
    </table>

    <table class="table table-bordered sw-table-horizontal taxes">
      <thead>
        <tr>
          <th colspan="2">{% trans %}Withholding Taxes{% endtrans %}</th>
        </tr>
      </thead>
      <tbody>
        {# TODO: Iterate over taxes and totals and show here #}
        <tr>
          <th>IVA 18%</th>
          <td>$98,390.67</td>
        </tr>
        <tr>
          <th>IVA 8%</th>
          <td>$0.00</td>
        </tr>
      </tbody>
    </table>

  </div>

  <div class="dashboard-listing">
    <h2>{% trans %}Recent invoices{% endtrans %}</h2>
    {% set table_selectable = false %}
    {% include "SiwappInvoiceBundle:Partials:listing.html.twig" %}
  </div>

  <div class="dashboard-listing">
    <h2>{% trans %}Past due invoices{% endtrans %}</h2>
    {% set table_rows = overdue_invoices %}
    {% include "SiwappInvoiceBundle:Partials:listing.html.twig" %}
  </div>

{% endblock %}
