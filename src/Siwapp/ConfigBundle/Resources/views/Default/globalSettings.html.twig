{% extends "SiwappConfigBundle:Default:settingsMenu.html.twig" %}


{% block body %}

   {{ form_start(form, {'action': path('global_settings')}) }}
        <fieldset class="col-md-6">
            <h3>{% trans %}Company{% endtrans %}</h3>
            {{ form_row(form.company_name) }}
            {{ form_row(form.company_address) }}
            {{ form_row(form.company_phone) }}
            {{ form_row(form.company_fax) }}
            {{ form_row(form.company_email) }}
            {{ form_row(form.company_url) }}
            {{ form_row(form.company_logo) }}
            {{ form_row(form.currency) }}
        </fieldset>
        <fieldset class="col-md-6" open>
            <h3>{% trans %}Legal texts{% endtrans %}</h3>
            {{ form_row(form.legal_terms) }}
        </fieldset>
        <fieldset class="col-md-6">
            <h3>{% trans %}PDF Settings{% endtrans %}</h3>
            {{ form_row(form.pdf_size) }}
            {{ form_row(form.pdf_orientation) }}
        </fieldset>
        <fieldset class="col-md-12">
            <h3>{% trans %}Invoicing taxes{% endtrans %}</h3>
            <div class="form-inline">
              {{ form_row(form.taxes) }}
              <a href="#" class="addTax">Add Tax</a>
            </div>
        </fieldset>
        <fieldset class="col-md-12">
            <h3>{% trans %}Invoicing series{% endtrans %}</h3>
            <div class="form-inline">
              {{ form_row(form.series) }}
              <a href="#" class="addSerie">Add Serie</a>
            </div>
        </fieldset>
        {{ form_widget(form) }}
        <div class="form-actions col-md-12"><input type="submit" value="{% trans %}Save{% endtrans %}" class="btn btn-default btn-primary"></div>
    {{ form_end(form) }}

    <script type="text/javascript">
      $('a.addTax').live('click', function(event){
          event.preventDefault();
          var collectionHolder = $('#global_settings_taxes');
          var prototype = collectionHolder.attr('data-prototype');
          form = prototype.replace(/\$\$name\$\$/g, collectionHolder.children().length);
          collectionHolder.append(form);
      });
    </script>

    <script type="text/javascript">
      $('a.addSerie').live('click', function(event){
          event.preventDefault();
          var collectionHolder = $('#global_settings_series');
          var prototype = collectionHolder.attr('data-prototype');
          form = prototype.replace(/\$\$name\$\$/g, collectionHolder.children().length);
          collectionHolder.append(form);
      });
    </script>

{% endblock %}
